<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">
        <meta name="'viewport" content="width=device-width, initial-scale=1.0">

        <script src="https://cdn.tailwindcss.com"></script>

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/habibmhamadi/multi-select-tag/dist/css/multi-select-tag.css">
        
        <title>{% block title %}{% endblock %} | TaskNet</title>
        <link rel="icon" type="image/x-icon" href="/TaskNet/media/logo.jpeg">
    </head>

    <body>
        <nav class="px-6 py-3 flex justify-between items-center border-b border-grey-200 bg-white" style="position: sticky; top: 0;">
            <a href="{% url 'kanban:board' %}" class="text-sky-800" style="font-size: 40px; font-family:Lucida Console;">TaskNet<h1 class="ml-7 text-xl text-black">{% if request.user.is_authenticated %}Hello, {{request.user.username}}{% endif %}</h1></a>
            {% if messages %}
                <ul class="messages" style="padding-bottom:2%; font-weight: bold; font-size: x-large; color: red;">
                    {% for message in messages %}
                        <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
            <div class="relative space-x-1">
                    {% if request.user.is_authenticated %}
                        <button id="dropdown-trigger" class="flex items-center px-4 py-3 text-lg font-semibold rounded-xl transition-all duration-300 hover:outline-none" style="font-size: 20px; font-family:Lucida Console;">
                            <svg xmlns="http://www.w3.org/2000/svg" height="1.75em" viewBox="0 0 448 512"><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg>
                        </button>
                        <ul id="dropdown-menu" class="absolute hidden w-48 bg-white border border-gray-300 rounded-xl shadow-lg" style="left: -50%; transform: translateX(-15%);">
                            {% if user.role == 'product_owner' or user.role == 'director'%}
                                <li><a href="{% url 'kanban:create_project' %}" class="block px-4 py-3 text-lg font-semibold text-gray-800 hover:bg-sky-100 rounded-xl">+ Project</a></li>
                                <li><a href="{% url 'kanban:project_list' %}" class="block px-4 py-3 text-lg font-semibold text-gray-800 hover:bg-sky-100 rounded-xl">Project List</a></li>
                            {% endif %}
                            <li><a href="{% url 'kanban:create_task' %}" class="block px-4 py-3 text-lg font-semibold text-gray-800 hover:bg-sky-100 rounded-xl ">+ Task</a></li>
                            <li><a href="{% url 'kanban:task_list' %}" class="block px-4 py-3 text-lg font-semibold text-gray-800 hover:bg-sky-100 rounded-xl ">Task List</a></li>
                            <li><a href="{% url 'kanban:board' %}" class="block px-4 py-3 text-lg font-semibold text-gray-800 hover:bg-sky-100 rounded-xl ">Kanban Board</a></li>
                            <li><a href="{% url 'conversation:inbox' %}" class="block px-4 py-3 text-lg font-semibold text-gray-800 hover:bg-sky-100 rounded-xl ">Inbox</a></li>
                            <li><a href="{% url 'core:logout' %}" class="block px-4 py-3 text-lg font-semibold text-gray-800 hover:bg-sky-100 rounded-xl ">Log out</a></li>
                        </ul>
                        
                    {% else %}
                        <a href="{% url 'core:signup' %}" class="px-6 py-3 text-lg bg-sky-600 text-white rounded-xl hover:bg-sky-700  transition-all duration-300" style="font-size: 20px; font-family:Lucida Console;">Sign up</a>
                        <a href="{% url 'core:login' %}" class="px-6 py-3 text-lg bg-zinc-500 text-white rounded-xl hover:bg-zinc-700  transition-all duration-300" style="font-size: 20px; font-family:Lucida Console;">Log in</a>
                    {% endif %}
            </div>
        </nav>
        
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                var dropdownTrigger = document.getElementById('dropdown-trigger');
                var dropdownMenu = document.getElementById('dropdown-menu');
                
                dropdownTrigger.addEventListener('click', function() {
                    dropdownMenu.classList.toggle('hidden');
                });
        
                dropdownMenu.addEventListener('mouseleave', function() {
                    dropdownMenu.classList.add('hidden');
                });
            });
        </script>
        
        <div class="px-6 py-6 pb-32">
            {% block content %}
            {% endblock %}
        </div>
        <footer class="px-6 py-6 flex justify-between bg-gray-900">
            <div class="w-2/3 pr-10">
                <h3 class="mb-5 font-semibold text-gray-400">About</h3>
                <p class="text-lg text-gray-500">About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet About TaskNet</p>
            </div>
            <div class="w-1/3">
                <h3 class="mb-5 font-semibold text-gray-500">Menu</h3>
                <ul class="space-y-2">
                    <li><a href="{% url 'core:about' %}" class="text-lg text-sky-500 hover:text-sky-700">About</a></li>
                    <li><a href="{% url 'core:contact' %}" class="text-lg text-sky-500 hover:text-sky-700">Contact</a></li>
                    <li><a href="{% url 'core:privacy_policy' %}" class="text-lg text-sky-500 hover:text-sky-700">Privacy Policy</a></li>
                    <li><a href="{% url 'core:terms_of_use' %}" class="text-lg text-sky-500 hover:text-sky-700">Terms of use</a></li>
                </ul>
            </div>
        </footer>
    </body>
</html>